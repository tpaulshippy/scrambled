<div id="game_status">
  <div class="bg-white border border-gray-200 rounded-2xl p-6 text-center h-full">
    <% if game.waiting? %>
      <div class="flex flex-col items-center justify-center h-full min-h-[300px]">
        <div class="text-3xl lg:text-4xl font-bold text-gray-900 mb-6">Waiting for Players</div>
        <p class="text-xl text-gray-600 mb-8">Ready to start when you are!</p>
        
        <% current_player = local_assigns[:current_player] %>

        <% if current_player&.game == game && !current_player.ready? %>
          <button id="ready-btn" data-action="click->scramble#markReady"
                  class="bg-green-600 text-white px-8 py-4 rounded-xl text-xl font-semibold hover:bg-green-700 transition-all duration-200 shadow-lg hover:shadow-xl">
            Ready to Play!
          </button>
        <% elsif current_player&.ready? %>
          <div class="text-green-600 font-semibold text-2xl">âœ“ You're ready!</div>
        <% end %>
      </div>
      
    <% elsif game.countdown? %>
      <div class="flex flex-col items-center justify-center h-full min-h-[300px]">
        <div id="countdown" class="text-8xl lg:text-9xl font-bold text-red-500 mb-6">3</div>
        <p class="text-xl text-gray-600">Get ready...</p>
      </div>
      
    <% elsif game.playing? %>
      <div class="flex flex-col justify-center h-full min-h-[400px] space-y-6">
        <div class="text-center">
          <div class="text-lg text-gray-500 mb-2">Round <%= game.round_number %></div>
          <div class="text-2xl lg:text-3xl text-gray-700 mb-6">Unscramble this word:</div>
        </div>
        
        <div id="scrambled-word" class="mb-8">
          <div class="flex justify-center flex-wrap gap-3 mb-6">
            <% game.scrambled_word.chars.each_with_index do |letter, index| %>
              <div class="letter-tile bg-blue-100 border-2 border-blue-300 w-16 h-16 lg:w-20 lg:h-20 flex items-center justify-center text-2xl lg:text-3xl font-bold text-blue-900 rounded-xl cursor-pointer hover:bg-blue-200 transition-all duration-200 shadow-md hover:shadow-lg"
                  data-letter="<%= letter %>" data-position="<%= index %>" data-action="click->scramble#selectLetter">
                <%= letter.upcase %>
              </div>
            <% end %>
          </div>
        </div>
        
        <div id="answer-area" class="mb-8">
          <div class="text-lg text-gray-500 mb-4 text-center">Your answer:</div>
          <div id="answer-tiles" data-scramble-target="answerTiles" class="flex justify-center flex-wrap gap-3 min-h-[5rem] bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-4">
          </div>
        </div>
        
        <div class="flex justify-center space-x-6">
          <button data-action="click->scramble#clearAnswer"
                  class="bg-gray-500 text-white px-6 py-3 rounded-xl text-lg font-medium hover:bg-gray-600 transition-all duration-200 shadow-md hover:shadow-lg">
            Clear
          </button>
          <button data-action="click->scramble#submitAnswer"
                  class="bg-blue-600 text-white px-8 py-3 rounded-xl text-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg">
            Submit Answer
          </button>
        </div>
        
        <div data-scramble-target="feedback" style="display: none;" class="mt-4 p-4 rounded-xl text-center text-lg">
        </div>
      </div>
      
    <% elsif game.finished? %>
      <div class="flex flex-col items-center justify-center h-full min-h-[300px]">
        <div class="text-4xl lg:text-5xl font-bold text-green-600 mb-6">ðŸŽ‰ Game Over!</div>
        <% if game.winner %>
          <p class="text-2xl lg:text-3xl text-gray-900 mb-4">Winner: <strong><%= game.winner.nickname %></strong></p>
          <p class="text-xl text-gray-600 mb-8">Final Score: <%= game.winner.score %></p>
        <% end %>
        
        <div class="mt-6">
          <%= link_to "Play Again", new_game_path, 
              class: "bg-blue-600 text-white px-8 py-4 rounded-xl text-xl font-semibold hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl" %>
        </div>
      </div>
    <% end %>
  </div>
</div>